<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:form id="navForm">
             
        <ui:param name="currentPage" value="#{facesContext.viewRoot.viewId}#{(empty request.queryString)?'':'?'.concat(request.queryString)}"/>

         
        <div class="list-group">
        	<h3 class="list-group-item list-group-item-info">#{resbundle['megaapp.menu.welcome']} #{request.userPrincipal.name}</h3>
           
               <a class="#{currentPage == '/protected/pages/bookSearch.xhtml'?'list-group-item active':'list-group-item'}"
               href="#{request.contextPath}/protected/pages/bookSearch.xhtml">
               	<span class="glyphicon glyphicon-search"></span>&#160;&#160;#{resbundle['megaapp.menu.search_books']}</a>
           
           
           
               <a class="#{currentPage == '/protected/pages/bookRequests.xhtml?status=1'?'list-group-item active':'list-group-item'}"
               href="#{request.contextPath}/protected/pages/bookRequests.xhtml?status=1">
               <span class="glyphicon glyphicon-tasks"></span>&#160;&#160;#{resbundle['megaapp.menu.pending_request']}</a>
            
           
           
               <a class="#{currentPage == '/protected/pages/bookRequests.xhtml?status=3'?'list-group-item active':'list-group-item'}"
               href="#{request.contextPath}/protected/pages/bookRequests.xhtml?status=3">
               <span class="glyphicon glyphicon-tasks"></span>&#160;&#160;#{resbundle['megaapp.menu.approved_request']}</a>
            
           
           
               <a class="#{currentPage == '/protected/pages/bookRequests.xhtml?status=2'?'list-group-item active':'list-group-item'}"
               href="#{request.contextPath}/protected/pages/bookRequests.xhtml?status=2">
               <span class="glyphicon glyphicon-tasks"></span>&#160;&#160;#{resbundle['megaapp.menu.rejected_request']}</a>
                

           <c:if test="#{request.isUserInRole('megaAppAdmin')}">
               
                   <a class="#{currentPage == '/protected/pages/admin/bookAdd.xhtml'?'list-group-item active':'list-group-item'}"
                   href="#{request.contextPath}/protected/pages/admin/bookAdd.xhtml">
                   <span class="glyphicon glyphicon-book"></span>&#160;&#160;#{resbundle['megaapp.menu.add_book']}</a>
               
                   <a class="#{currentPage == '/protected/pages/admin/userList.xhtml'?'list-group-item active':'list-group-item'}"
                   href="#{request.contextPath}/protected/pages/admin/userList.xhtml">
                   <span class="glyphicon glyphicon-user"></span>&#160;&#160;#{resbundle['megaapp.menu.view_users']}</a>
           </c:if>

           <h:commandLink action="#{logoutBacking.logout}" styleClass="list-group-item">
           			<span class="glyphicon glyphicon-log-out"></span>&#160;&#160;#{resbundle['megaapp.menu.logout']}
           			</h:commandLink>
        </div>      
    </h:form>
</html>